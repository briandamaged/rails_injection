#!/usr/bin/env ruby

if ARGV.empty?
  $stderr.puts "Usage: #{ $0 } [input]"
  exit(1)
end

input = File.open(ARGV[0]) do |fin|
  fin.each_line.map{|line| line.chomp}.reject{|line| line.empty?}.to_a.join(";")
end

puts "eval eval(#{input.gsub(" ", "^").inspect}.gsub('^',('^'.ord-62).chr))"
